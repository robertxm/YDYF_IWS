<ion-header>
  <ion-navbar>
    <ion-title>{{buildingname}}{{roomname}}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-list>
    <ion-item>
      <ion-label>部位</ion-label>
      <ion-select [(ngModel)]="position" (ionChange)="positionchange()" okText="确定" cancelText="取消">
        <ion-option *ngFor="let item of positions">{{ item }}</ion-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label>检查项</ion-label>
      <ion-select [(ngModel)]="checkitem" (ionChange)="itemchange()" okText="确定" cancelText="取消">
        <ion-option *ngFor="let item of checkitems">{{item}}</ion-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label>描述</ion-label>
      <ion-select #issuedesc multiple="true" [(ngModel)]="itdesc" (ionChange)="issuedescchange($event)" okText="确定" cancelText="取消">
        <ion-option *ngFor="let item of itemdescs">{{ item }}</ion-option>
      </ion-select>
    </ion-item>
  </ion-list>
  <ion-list>
    <ion-item>
      <ion-input type="text" placeholder="补充说明" height=100px [(ngModel)]="descplus"></ion-input>
    </ion-item>
  </ion-list>

  <ion-list>
    <ion-item>
      <button *ngIf="images && images.length < 3" ion-button icon-only (click)="cameraclick()">
	  <ion-icon ios="ios-camera" md="md-camera"></ion-icon>
	 </button>
      <ion-thumbnail item-left *ngFor="let item of images" style="margin:5px;min-width:50px;min-height:50px">
        <div style="color:red">
          <ion-icon item-right ios="ios-close" md="md-close" (click)="deleteimage(item)"></ion-icon>
        </div>
        <img [src]="item" (click)="showBigImage(item)" style="width:50px; height:50px">
      </ion-thumbnail>
    </ion-item>
  </ion-list>

  <ion-list>
    <ion-item>
      <ion-label>紧急程度</ion-label>
      <ion-select [(ngModel)]="uglevel" okText="确定" cancelText="取消">
        <ion-option *ngFor="let item of urgencylevel">{{ item }}</ion-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label>承建商(整改单位)</ion-label>
      <ion-select [(ngModel)]="vend" (ionChange)="vendorchange()" okText="确定" cancelText="取消">
        <ion-option *ngFor="let item of vendors">{{item}}</ion-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label>责任单位</ion-label>
      <ion-select [(ngModel)]="resunit" (ionChange)="responsibilityunitchange()" okText="确定" cancelText="取消">
        <ion-option *ngFor="let item of responsibilityunits">{{ item }}</ion-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-toggle [(ngModel)]="fixedchecked" (ionChange)="fixedchange($event)"></ion-toggle>
      <ion-label>
        现场整改通过
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>
<ion-footer>
  <button ion-button block (click)="uploadclick()">提交</button>
</ion-footer>